---
title: "2024 하반기 회고. part 1"
date: 2024-11-23 15:31:00 +0900
comments: true
categories: personal postmortem
---

2024년의 11월입니다. 조금 더 있으면 한 해가 저물기도 하고 회사 업무상으로는 이미 종료 이기도 합니다.
여유가 생긴 지금, 그리고 평가가 종료된 지금, 회고 하기에는 적절한 타이밍입니다.

상반기에는 서비스의 방향성과 정체성을 알아가고 구체화 하던 시기라면 하반기는 **모든것을 재정의** 한 시간이었습니다.
그 일련의 과정을 한번 정리해보려 합니다.

## Meta 의 LLaMa 3.1 공개

7월 23일 Meta 에서 LLaMa 3.1 을 발표합니다.

기존에도 오픈소스로서 자유롭게 사용가능한 모델이 존재 하긴 했으나 3.1 만큼의 대규모 고성능의 모델 (405B) 은 아니었습니다.

추론력이 중요한 우리 서비스에 적합한 모델이 드디어 공개된 것이죠.

그.러.나

고성능의 모델은 그만한 GPU 자원을 필요로 합니다. 
하지만 모두가 알고 있습니다. GPU 는 비싸다는 것. (!!!!Nvidia!!!!)

모델을 사용하려면 일단 GPU 장비가 있어야 하고 그것을 제공 (이용가능하게 하는) 할 수 있는 인프라가 필요합니다.
그리고 보통은 클라우드 자원으로 받아서 구축합니다.

405B 모델을 사용하기 위해서는 보통은 Quantization 을 통해 압축된 상태로 사용합니다. 그러나 성능을 최대한으로 활용하기 위해 16Bit 그대로를 사용한다면

약 405*2 = 910 GB 의 VRAM 을 필요로 합니다.

Nvidia H100 GPU 가 80GB 를 가지고 있어 이론적으로는 12장 정도가 필요합니다. 
그런데 8장단위로 클러스터를 제공하기에 16장을 사용합니다.

H100 Board 1장을 구매하는데 대략 5천만원 정도 입니다. 시스템과 유지보수 합한 가격 예상 되시나요?!

## 상용 LLM 모델 사용에 대한 보안 이슈

이 부분은 사실 많이 아이러니 하다고 생각합니다. 

Cloud 에 올라가 있는 빅데이터를 Cloud 를 통해 서비스로 제공하면서 

Cloud 에 서빙되어 제공하는 LLM Model 을 사용하는 것에 대해서 데이터 유출의 우려를 한다니요.

GPT-3 이후 LLM 모델이 갑자기 대두되면서 세계 모든 기업들이 데이터 우려와 함께 AI 패권과 선점에 대한 경계심이 있다는 것은 이해가 됩니다.

다만.... 시간이 조금 필요한 것이라고 생각합니다.

새로운 기술, 패러다임의 전환, 혼란한 시기에서 책임지고 결단할 용기와 의지가 부족할 수 밖에 없죠.

어쨌든 저희는 이 상황을 반전의 상황으로 극복하려고 했습니다.

우리가 스스로 모델을 finetune 할 수 있고 LLM 에 대해서 더 깊이있게 이해할 수 있는 기회 입니다.

## 위기는 정말 기회인가

8월 말, 정식으로 서비스를 런칭합니다. 어떻게든 꾸역꾸역 우겨넣어서 오픈을 했습니다. 

물론 퀄리티가 스스로에게 만족 할 수준이 아니라는 것은 잘 알고 있었습니다.

그런데 또 한편으로는.... 에이 무슨일 생기겠어? 안이한 생각에 빠져 있었죠.

그래서 일까요? 

C 레벨의 높으신 분들은 그러한 약점을 노리는 것에 도가 텄다... 아니 신기가 있다고 느껴집니다.

상대의 헛점을 간파할 수 있는 다년간 쌓인 경험치 인걸까요. 아니면 특별한 감각을 통해 볼 수 있는 것 일까요.

한번의 질의에 의해 우리의 취약점이 드러났습니다.

데이터 분석의 결과로서 시각화가 도저히 알아보기 힘든, 부적절한 표현이 되었고,

그 결과로 인해 좋지 못한 피드백이 내려오게 됩니다.

시각화 기능을 제거하라는 오더를 받게 됩니다.

갈등이 많이 되었습니다. 시각화 기능은 데이터 분석에 있어 중요한 요소거든요. 그리고 누군가의 노력과 결과물 이기도 합니다.

항상 이러한 점을 주의해야 한다고 생각합니다. 지시에 있어 맥락과 정말로 원하는 요구사항이 무엇일까 하는 것이요

시각화를 제거하라는 말 담긴 의미. 정말로 시각화를 해서는 안된다는 것인지 잘못된 시각화를 해서는 안된다 인 것인지.

사실 전반적인 시각화가 기대수준에 못미치기 때문에 제거하라는 오더가 내려오게 되죠.

그런데 의미르 잘못 해석하게 되면 앞으로 영영 절대로 시각화는 하지마! 가 되어버릴 수도 있습니다. 

# 기본에 충실하기

무슨 프로젝트이던 (모든 일에는) 기본에 충실해야 합니다. 

그렇다면 기본이 무엇인지를 잘 생각해봐야 하고, 그것이 정말 잘 되고 있는지를 확인해야 합니다.

그런데 일에 몰입하고 집중하다보면 어려운 문제들 이슈들에 집중하게 되어 기본이 잘 되고 있는지에 대해 놓치게 됩니다.

AI 채팅 서비스라고 한다면 기본적인 질문, 쉬운 질문에 대해서 정답을 빠르고 신속하게 답변하는 것이 기본이라 할 수 있겠습니다.

그런데 개발을 하다보면 더 높은 차원의 질문에 잘 답변하는 것을 목표화 하게 됩니다.

그리고 PM 이나 검증 부서에서도 그런 요구사항을 자주 들고오곤 합니다.

개발하는 사람으로서 높은 난이도의 요구사항을 잘 구현 했을때의 성취감은 이루 말 할수 없이 기분이 좋습니다.

그리고 부서 내에서 관심도 많이 받고 주목도 되겠죠. 또 그런 부분을 업적으로서 당당하게 자랑 할 수도 있을 것입니다.

그런데 기본 적인 부분에서 결함이 있다면 정말 크리티컬 합니다.

쉬워보이는 질문에 답을 못하는 상황 같은 것이죠.

그런 상황을 방지하기 위해 시스템을 구축하고 주의 하기 위한 노력과 집중이 필요합니다. (unit test)

그런데 문제는 기본을 위한 노력은 잘 드러나지 않습니다.

잘하면 별 문제가 없다 생각하고 문제가 터지면 왜 이런것도 신경쓰지 않았나는 혼나게 되죠.



